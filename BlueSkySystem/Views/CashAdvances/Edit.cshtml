@model CashAdvanceDto
@using Microsoft.AspNetCore.Identity;
@inject SignInManager<Users> signInManager

<div class="row">
    <div class="col-md-8 mx-auto rounded border p-3">
        <h2 class="text-center mb-5">Edit Form</h2>


        <form method="post" enctype="multipart/form-data">

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Voucher No.</label>
                <div class="col-sm-8">
                    <input class="form-control-plaintext" readonly value="@ViewData["CashAdvanceId"]">
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">First Name</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="FirstName">
                    <span asp-validation-for="FirstName" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Middle Name</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="MiddleName">
                    <span asp-validation-for="MiddleName" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Last Name</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="LastName">
                    <span asp-validation-for="LastName" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Department</label>
                <div class="col-sm-8">
                    <select class="form-select" asp-for="Department">
                        <option value="IT">IT</option>
                        <option value="Accountant">Accountant</option>
                        <option value="Add More">Add More</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
            </div>

            <div class="row mb-3">
                <label asp-for="DateRequired" class="col-sm-4 col-form-label"></label>
                <div class="col-sm-8">
                    <input asp-for="DateRequired" class="form-control" />
                    <span asp-validation-for="DateRequired" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Expense Request Purpose/Description</label>
                <div class="col-sm-8">
                    <textarea class="form-control" asp-for="Purpose"></textarea>
                    <span asp-validation-for="Purpose" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Amount</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="Amount">
                    <span asp-validation-for="Amount" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <div class="offset-sm-4 col-sm-8">
                    <img src="/ESignature/@ViewData["ImageFileName1"]" width="150" />
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Electronic Signature (Requester)</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="ImageFile1">
                    <span asp-validation-for="ImageFile1" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Cover Letter</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="CoverLetter">
                    <span asp-validation-for="CoverLetter" class="text-danger"></span>
                </div>
            </div>
            
            <!----------------
             (signInManager.IsSignedIn(User) && (User.IsInRole("Department Head")))
            {
                <div class="row mb-3">
                    <label class="col-sm-4 col-form-label">Electronic Signature (Recommending Approval)</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="ImageFile2">
                        <span asp-validation-for="ImageFile2" class="text-danger"></span>
                    </div>
                </div>
            }


             (signInManager.IsSignedIn(User) && (User.IsInRole("Admin")))
            {
                <div class="row mb-3">
                    <label class="col-sm-4 col-form-label">Electronic Signature (Approved By)</label>
                    <div class="col-sm-8">
                        <input class="form-control" asp-for="ImageFile3">
                        <span asp-validation-for="ImageFile3" class="text-danger"></span>
                    </div>
                </div>
            }
            ------------->

            <div class="row">
                <div class="offset-sm-4 col-sm-4 d-grid">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
                <div class="col-sm-4 d-grid">
                    <a class="btn btn-outline-primary" asp-controller="CashAdvances" asp-action="Index" role="button">
                        Cancel
                    </a>
                </div>
            </div>

        </form>
    </div>
</div>